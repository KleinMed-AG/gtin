<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Login - UDI Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen flex items-center justify-center">
    <div id="login-screen" class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
        <h1 class="text-2xl font-bold mb-6">ðŸ”’ UDI Generator Login</h1>
        <input type="text" id="username" placeholder="Benutzername" class="w-full p-3 border rounded mb-3">
        <input type="password" id="password" placeholder="Passwort" class="w-full p-3 border rounded mb-4">
        <button onclick="checkLogin()" class="w-full bg-blue-600 text-white p-3 rounded hover:bg-blue-700">
            Anmelden
        </button>
        <p id="error" class="text-red-600 mt-3 text-sm"></p>
    </div>

    <div id="app-screen" style="display:none;" class="w-full"></div>

    <script>
        // Simple hardcoded check (change these!)
        const VALID_USER = 'admin';
        const VALID_PASS = 'SecurePass123!';

        function checkLogin() {
            const user = document.getElementById('username').value;
            const pass = document.getElementById('password').value;
            
            if (user === VALID_USER && pass === VALID_PASS) {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app-screen').style.display = 'block';
                loadApp();
            } else {
                document.getElementById('error').textContent = 'UngÃ¼ltige Anmeldedaten';
            }
        }

        function loadApp() {
            // Load your actual app content
            fetch('/app.html')
                .then(r => r.text())
                .then(html => {
                    document.getElementById('app-screen').innerHTML = html;
                    // Re-execute scripts
                    const scripts = document.getElementById('app-screen').querySelectorAll('script');
                    scripts.forEach(oldScript => {
                        const newScript = document.createElement('script');
                        Array.from(oldScript.attributes).forEach(attr => 
                            newScript.setAttribute(attr.name, attr.value)
                        );
                        newScript.appendChild(document.createTextNode(oldScript.innerHTML));
                        oldScript.parentNode.replaceChild(newScript, oldScript);
                    });
                });
        }
    </script>
</body>
</html>
